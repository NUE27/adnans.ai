<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Interface seperti DeepSeek</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 90vh;
        }
        
        .header {
            background: linear-gradient(to right, #4f46e5, #7c3aed);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, #00d2ff, #3a7bd5);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            font-weight: bold;
        }
        
        .header-text h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .header-text p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .message {
            display: flex;
            gap: 15px;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .user-avatar {
            background-color: #4f46e5;
            color: white;
        }
        
        .ai-avatar {
            background-color: #10b981;
            color: white;
        }
        
        .message-content {
            max-width: 85%;
            padding: 15px;
            border-radius: 18px;
            line-height: 1.5;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .user-message .message-content {
            background-color: #4f46e5;
            color: white;
            border-bottom-right-radius: 5px;
        }
        
        .ai-message .message-content {
            background-color: #f3f4f6;
            color: #333;
            border-bottom-left-radius: 5px;
        }
        
        .ai-message {
            align-items: flex-start;
        }
        
        .user-message {
            flex-direction: row-reverse;
            align-items: flex-start;
        }
        
        .user-message .avatar {
            margin-left: 0;
        }
        
        .input-container {
            border-top: 1px solid #e5e7eb;
            padding: 20px;
            background-color: #f9fafb;
        }
        
        .input-wrapper {
            display: flex;
            align-items: flex-end;
            gap: 12px;
            background-color: white;
            border-radius: 16px;
            padding: 8px 8px 8px 20px;
            border: 1px solid #e5e7eb;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        
        .input-wrapper:focus-within {
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        .textarea-container {
            flex: 1;
            position: relative;
            min-height: 24px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        #messageInput {
            width: 100%;
            border: none;
            outline: none;
            resize: none;
            font-size: 16px;
            line-height: 1.5;
            padding: 0;
            max-height: 200px;
            min-height: 24px;
            background: transparent;
            font-family: inherit;
            color: #333;
        }
        
        #messageInput::placeholder {
            color: #9ca3af;
        }
        
        .action-buttons {
            display: flex;
            gap: 8px;
            flex-shrink: 0;
        }
        
        .btn {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            color: #6b7280;
            background-color: #f3f4f6;
        }
        
        .btn:hover {
            background-color: #e5e7eb;
            color: #4b5563;
        }
        
        .btn-primary {
            background-color: #4f46e5;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #4338ca;
        }
        
        .instructions {
            margin-top: 15px;
            font-size: 0.85rem;
            color: #6b7280;
            text-align: center;
        }
        
        .typing-indicator {
            display: none;
            padding: 10px 15px;
            background-color: #f3f4f6;
            border-radius: 18px;
            width: fit-content;
            margin-left: 55px;
            border-bottom-left-radius: 5px;
        }
        
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #9ca3af;
            margin-right: 5px;
            animation: typing 1.4s infinite both;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-6px); }
        }
        
        .file-attach {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            background-color: #f3f4f6;
            border-radius: 12px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #4b5563;
            width: fit-content;
        }
        
        .file-attach i {
            color: #4f46e5;
        }
        
        @media (max-width: 768px) {
            .container {
                height: 95vh;
                border-radius: 15px;
            }
            
            .chat-container {
                padding: 15px;
            }
            
            .message-content {
                max-width: 75%;
            }
            
            .header {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">AI</div>
            <div class="header-text">
                <h1>DeepSeek-like Chat</h1>
                <p>Input akan memanjang sesuai dengan pesan yang Anda ketik</p>
            </div>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <div class="message ai-message">
                <div class="avatar ai-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    Halo! Saya asisten AI seperti DeepSeek. Coba ketik pesan di bawah, dan Anda akan melihat area input akan memanjang secara otomatis sesuai dengan panjang pesan Anda. Anda juga dapat menekan Shift+Enter untuk membuat baris baru.
                </div>
            </div>
            
            <div class="message user-message">
                <div class="avatar user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="message-content">
                    Coba fitur input yang bisa memanjang!
                </div>
            </div>
            
            <div class="typing-indicator" id="typingIndicator">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="input-container">
            <div class="input-wrapper">
                <div class="textarea-container">
                    <textarea id="messageInput" placeholder="Ketik pesan Anda di sini... Tekan Enter untuk mengirim, Shift+Enter untuk baris baru." rows="1"></textarea>
                </div>
                
                <div class="action-buttons">
                    <button class="btn" id="attachButton" title="Lampirkan file">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    <button class="btn btn-primary" id="sendButton" title="Kirim pesan">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            
            <div class="instructions">
                <span><i class="fas fa-keyboard"></i> Tekan Enter untuk mengirim â€¢ Shift+Enter untuk baris baru</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const chatContainer = document.getElementById('chatContainer');
            const typingIndicator = document.getElementById('typingIndicator');
            const attachButton = document.getElementById('attachButton');
            
            // Fungsi untuk menyesuaikan tinggi textarea secara otomatis
            function autoResizeTextarea() {
                // Reset tinggi ke minimum dulu
                messageInput.style.height = '24px';
                // Atur tinggi berdasarkan scrollHeight (konten di dalamnya)
                messageInput.style.height = messageInput.scrollHeight + 'px';
                
                // Batasi tinggi maksimum
                if (messageInput.scrollHeight > 200) {
                    messageInput.style.height = '200px';
                }
            }
            
            // Panggil fungsi auto resize saat input berubah
            messageInput.addEventListener('input', autoResizeTextarea);
            
            // Juga panggil saat halaman dimuat untuk ukuran awal
            autoResizeTextarea();
            
            // Fungsi untuk menambahkan pesan ke chat
            function addMessage(content, isUser = true) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;
                
                const avatarDiv = document.createElement('div');
                avatarDiv.className = `avatar ${isUser ? 'user-avatar' : 'ai-avatar'}`;
                avatarDiv.innerHTML = `<i class="fas ${isUser ? 'fa-user' : 'fa-robot'}"></i>`;
                
                const contentDiv = document.createElement('div');
                contentDiv.className = 'message-content';
                contentDiv.textContent = content;
                
                messageDiv.appendChild(avatarDiv);
                messageDiv.appendChild(contentDiv);
                
                chatContainer.appendChild(messageDiv);
                
                // Scroll ke bawah
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
                return messageDiv;
            }
            
            // Fungsi untuk mengirim pesan
            function sendMessage() {
                const message = messageInput.value.trim();
                
                if (message === '') return;
                
                // Tambahkan pesan pengguna
                addMessage(message, true);
                
                // Kosongkan input
                messageInput.value = '';
                autoResizeTextarea();
                
                // Tampilkan indikator typing
                typingIndicator.style.display = 'flex';
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
                // Simulasi respons AI setelah jeda
                setTimeout(() => {
                    typingIndicator.style.display = 'none';
                    
                    // Respons AI berdasarkan input pengguna
                    let response = "";
                    if (message.toLowerCase().includes('halo') || message.toLowerCase().includes('hai')) {
                        response = "Halo! Ada yang bisa saya bantu hari ini?";
                    } else if (message.toLowerCase().includes('terima kasih')) {
                        response = "Sama-sama! Senang bisa membantu Anda.";
                    } else if (message.toLowerCase().includes('fitur') || message.toLowerCase().includes('input')) {
                        response = "Ya, fitur input yang memanjang ini sangat berguna untuk pesan panjang. Anda dapat mengetik beberapa paragraf dan input akan menyesuaikan tingginya secara otomatis.";
                    } else {
                        const responses = [
                            "Saya memahami pesan Anda. Apakah ada hal lain yang ingin Anda tanyakan?",
                            "Terima kasih atas pesannya. Input yang dapat memanjang ini memang membuat pengalaman chat lebih nyaman, bukan?",
                            "Pesan Anda telah diterima. Coba ketik pesan yang lebih panjang untuk melihat bagaimana input akan memanjang secara otomatis.",
                            "Sangat menarik! Dengan fitur ini, Anda tidak perlu khawatir pesan panjang akan sulit dibaca di area input."
                        ];
                        response = responses[Math.floor(Math.random() * responses.length)];
                    }
                    
                    // Tambahkan respons AI
                    addMessage(response, false);
                }, 1000 + Math.random() * 1500);
            }
            
            // Event listener untuk tombol kirim
            sendButton.addEventListener('click', sendMessage);
            
            // Event listener untuk tombol Enter (tetapi Shift+Enter untuk baris baru)
            messageInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // Event listener untuk tombol lampirkan file
            attachButton.addEventListener('click', function() {
                // Simulasi lampiran file
                const fileAttach = document.createElement('div');
                fileAttach.className = 'file-attach';
                fileAttach.innerHTML = `<i class="fas fa-file-alt"></i> <span>contoh-dokumen.txt</span>`;
                
                // Tambahkan sebelum input wrapper
                const inputContainer = document.querySelector('.input-container');
                inputContainer.insertBefore(fileAttach, document.querySelector('.input-wrapper'));
                
                // Hapus setelah beberapa detik
                setTimeout(() => {
                    fileAttach.remove();
                }, 5000);
            });
            
            // Tambahkan pesan selamat datang dari AI
            setTimeout(() => {
                const welcomeMessage = "Selamat datang! Di sini Anda dapat mencoba fitur input yang dapat memanjang secara otomatis seperti di DeepSeek. Ketik pesan panjang untuk melihatnya beraksi!";
                addMessage(welcomeMessage, false);
            }, 500);
        });
    </script>
</body>
</html>
